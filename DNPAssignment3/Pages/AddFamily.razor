@page "/AddFamily"

@using Models
@using Blazor.Data
@using Data
@inject IFamilyManager familyManager

@inject NavigationManager NavigationManager

<h3>
    Add A Family
</h3>
<EditForm Model="@family" OnValidSubmit="@AddNewFamily">
    <DataAnnotationsValidator/> <ValidationSummary/>
    <div class="form-group"> House Number<br/> <InputNumber @bind-Value="family.HouseNumber"/> </div>
    <div class="form-group"> Street Name:<br/> <InputTextArea rows="1" @bind-Value="family.StreetName"/> </div>
    <p class="actions">
        <button class="btn btn-outline-dark" type="submit">Add family</button>
    </p>
</EditForm>

@code {
    
    private Family family = new();

    private void AddNewFamily()
    {
        
        familyManager.AddFamily(family);

        Console.WriteLine(family);

        NavigationManager.NavigateTo("/Families");
    }
    
}